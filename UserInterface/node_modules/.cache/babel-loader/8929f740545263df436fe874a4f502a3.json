{"ast":null,"code":"import _slicedToArray from\"/Users/vaibhav/Desktop/Home/Blockchain Boutique/Uniswap_forked_gaura/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/vaibhav/Desktop/Home/Blockchain Boutique/Uniswap_forked_gaura/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8;import React,{useContext,useMemo}from'react';import styled,{ThemeContext}from'styled-components';import{Link}from'react-router-dom';import{SwapPoolTabs}from'../../components/NavigationTabs';import AppBody from'../AppBody';import FullPositionCard from'../../components/PositionCard';import{useTokenBalancesWithLoadingIndicator}from'../../state/wallet/hooks';import{TYPE,HideSmall}from'../../theme';import{Text}from'rebass';import Card from'../../components/Card';import{RowBetween,RowFixed}from'../../components/Row';import{ButtonPrimary}from'../../components/Button';import{AutoColumn}from'../../components/Column';import{useActiveWeb3React}from'../../hooks';import{usePairs}from'../../data/Reserves';import{toV2LiquidityToken,useTrackedTokenPairs}from'../../state/user/hooks';import{Dots}from'../../components/swap/styleds';var PageWrapper=styled(AutoColumn)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  max-width: 640px;\\n  width: 100%;\\n  padding: 1rem;\\n\"])));var TitleRow=styled(RowBetween)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  \",\";\\n\"])),function(_ref){var theme=_ref.theme;return theme.mediaWidth.upToSmall(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    flex-wrap: wrap;\\n    gap: 12px;\\n    width: 100%;\\n    flex-direction: column-reverse;\\n  \"])));});var ButtonRow=styled(RowFixed)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  gap: 8px;\\n  \",\";\\n\"])),function(_ref2){var theme=_ref2.theme;return theme.mediaWidth.upToSmall(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    width: 100%;\\n    flex-direction: row-reverse;\\n    justify-content: space-between;\\n  \"])));});var ResponsiveButtonPrimary=styled(ButtonPrimary)(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  width: fit-content;\\n  \",\";\\n\"])),function(_ref3){var theme=_ref3.theme;return theme.mediaWidth.upToSmall(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n    width: 48%;\\n  \"])));});var EmptyProposals=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  border: 1px solid \",\";\\n  padding: 16px 12px;\\n  border-radius: 12px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n\"])),function(_ref4){var theme=_ref4.theme;return theme.text4;});export default function Pool(){var theme=useContext(ThemeContext);var _useActiveWeb3React=useActiveWeb3React(),account=_useActiveWeb3React.account;// fetch the user's balances of all tracked V2 LP tokens\nvar trackedTokenPairs=useTrackedTokenPairs();var tokenPairsWithLiquidityTokens=useMemo(function(){return trackedTokenPairs.map(function(tokens){return{liquidityToken:toV2LiquidityToken(tokens),tokens:tokens};});},[trackedTokenPairs]);var liquidityTokens=useMemo(function(){return tokenPairsWithLiquidityTokens.map(function(tpwlt){return tpwlt.liquidityToken;});},[tokenPairsWithLiquidityTokens]);var _useTokenBalancesWith=useTokenBalancesWithLoadingIndicator(account!==null&&account!==void 0?account:undefined,liquidityTokens),_useTokenBalancesWith2=_slicedToArray(_useTokenBalancesWith,2),v2PairsBalances=_useTokenBalancesWith2[0],fetchingV2PairBalances=_useTokenBalancesWith2[1];// fetch the reserves for all V2 pools in which the user has a balance\nvar liquidityTokensWithBalances=useMemo(function(){return tokenPairsWithLiquidityTokens.filter(function(_ref5){var _v2PairsBalances$liqu;var liquidityToken=_ref5.liquidityToken;return(_v2PairsBalances$liqu=v2PairsBalances[liquidityToken.address])===null||_v2PairsBalances$liqu===void 0?void 0:_v2PairsBalances$liqu.greaterThan('0');});},[tokenPairsWithLiquidityTokens,v2PairsBalances]);var v2Pairs=usePairs(liquidityTokensWithBalances.map(function(_ref6){var tokens=_ref6.tokens;return tokens;}));var v2IsLoading=fetchingV2PairBalances||(v2Pairs===null||v2Pairs===void 0?void 0:v2Pairs.length)<liquidityTokensWithBalances.length||(v2Pairs===null||v2Pairs===void 0?void 0:v2Pairs.some(function(V2Pair){return!V2Pair;}));var allV2PairsWithLiquidity=v2Pairs.map(function(_ref7){var _ref8=_slicedToArray(_ref7,2),pair=_ref8[1];return pair;}).filter(function(v2Pair){return Boolean(v2Pair);});return/*#__PURE__*/React.createElement(AppBody,null,/*#__PURE__*/React.createElement(PageWrapper,null,/*#__PURE__*/React.createElement(SwapPoolTabs,{active:'pool'}),/*#__PURE__*/React.createElement(AutoColumn,{gap:\"lg\",justify:\"center\"},/*#__PURE__*/React.createElement(AutoColumn,{gap:\"lg\",style:{width:'100%'}},/*#__PURE__*/React.createElement(TitleRow,{style:{marginTop:'1rem'},padding:'0'},/*#__PURE__*/React.createElement(HideSmall,null,/*#__PURE__*/React.createElement(TYPE.mediumHeader,{style:{justifySelf:'flex-start'}},\"Your liquidity\")),/*#__PURE__*/React.createElement(ButtonRow,null,/*#__PURE__*/React.createElement(ResponsiveButtonPrimary,{as:Link,padding:\"6px 10px\",to:\"/create/ETH\"},\"Create a pair\"),/*#__PURE__*/React.createElement(ResponsiveButtonPrimary,{id:\"join-pool-button\",as:Link,padding:\"6px 10px\",to:\"/add/ETH\"},/*#__PURE__*/React.createElement(Text,{fontWeight:500,fontSize:16},\"Add Liquidity\")))),!account?/*#__PURE__*/React.createElement(Card,{padding:\"40px\"},/*#__PURE__*/React.createElement(TYPE.body,{color:theme.text3,textAlign:\"center\"},\"Connect to a wallet to view your liquidity.\")):v2IsLoading?/*#__PURE__*/React.createElement(EmptyProposals,null,/*#__PURE__*/React.createElement(TYPE.body,{color:theme.text3,textAlign:\"center\"},/*#__PURE__*/React.createElement(Dots,null,\"Loading\"))):(allV2PairsWithLiquidity===null||allV2PairsWithLiquidity===void 0?void 0:allV2PairsWithLiquidity.length)>0?/*#__PURE__*/React.createElement(React.Fragment,null,allV2PairsWithLiquidity.map(function(v2Pair){return/*#__PURE__*/React.createElement(FullPositionCard,{key:v2Pair.liquidityToken.address,pair:v2Pair});})):/*#__PURE__*/React.createElement(EmptyProposals,null,/*#__PURE__*/React.createElement(TYPE.body,{color:theme.text3,textAlign:\"center\"},\"No Liquidity found\"))))));}","map":{"version":3,"names":["React","useContext","useMemo","styled","ThemeContext","Link","SwapPoolTabs","AppBody","FullPositionCard","useTokenBalancesWithLoadingIndicator","TYPE","HideSmall","Text","Card","RowBetween","RowFixed","ButtonPrimary","AutoColumn","useActiveWeb3React","usePairs","toV2LiquidityToken","useTrackedTokenPairs","Dots","PageWrapper","TitleRow","theme","mediaWidth","upToSmall","ButtonRow","ResponsiveButtonPrimary","EmptyProposals","div","text4","Pool","account","trackedTokenPairs","tokenPairsWithLiquidityTokens","map","tokens","liquidityToken","liquidityTokens","tpwlt","undefined","v2PairsBalances","fetchingV2PairBalances","liquidityTokensWithBalances","filter","address","greaterThan","v2Pairs","v2IsLoading","length","some","V2Pair","allV2PairsWithLiquidity","pair","v2Pair","Boolean","width","marginTop","justifySelf","text3"],"sources":["/Users/vaibhav/Desktop/Home/Blockchain Boutique/Uniswap_forked_gaura/src/pages/Pool/index.tsx"],"sourcesContent":["import React, { useContext, useMemo } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { Pair } from '@uniswap/sdk';\nimport { Link } from 'react-router-dom';\nimport { SwapPoolTabs } from '../../components/NavigationTabs';\nimport AppBody from '../AppBody';\nimport FullPositionCard from '../../components/PositionCard';\nimport { useTokenBalancesWithLoadingIndicator } from '../../state/wallet/hooks';\nimport { TYPE, HideSmall } from '../../theme';\nimport { Text } from 'rebass';\nimport Card from '../../components/Card';\nimport { RowBetween, RowFixed } from '../../components/Row';\nimport { ButtonPrimary } from '../../components/Button';\nimport { AutoColumn } from '../../components/Column';\n\nimport { useActiveWeb3React } from '../../hooks';\nimport { usePairs } from '../../data/Reserves';\nimport { toV2LiquidityToken, useTrackedTokenPairs } from '../../state/user/hooks';\nimport { Dots } from '../../components/swap/styleds';\n\nconst PageWrapper = styled(AutoColumn)`\n  max-width: 640px;\n  width: 100%;\n  padding: 1rem;\n`;\n\nconst TitleRow = styled(RowBetween)`\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    flex-wrap: wrap;\n    gap: 12px;\n    width: 100%;\n    flex-direction: column-reverse;\n  `};\n`;\n\nconst ButtonRow = styled(RowFixed)`\n  gap: 8px;\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    width: 100%;\n    flex-direction: row-reverse;\n    justify-content: space-between;\n  `};\n`;\n\nconst ResponsiveButtonPrimary = styled(ButtonPrimary)`\n  width: fit-content;\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    width: 48%;\n  `};\n`;\n\nconst EmptyProposals = styled.div`\n  border: 1px solid ${({ theme }) => theme.text4};\n  padding: 16px 12px;\n  border-radius: 12px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport default function Pool() {\n  const theme = useContext(ThemeContext);\n  const { account } = useActiveWeb3React();\n\n  // fetch the user's balances of all tracked V2 LP tokens\n  const trackedTokenPairs = useTrackedTokenPairs();\n  const tokenPairsWithLiquidityTokens = useMemo(\n    () => trackedTokenPairs.map((tokens) => ({ liquidityToken: toV2LiquidityToken(tokens), tokens })),\n    [trackedTokenPairs]\n  );\n  const liquidityTokens = useMemo(\n    () => tokenPairsWithLiquidityTokens.map((tpwlt) => tpwlt.liquidityToken),\n    [tokenPairsWithLiquidityTokens]\n  );\n  const [v2PairsBalances, fetchingV2PairBalances] = useTokenBalancesWithLoadingIndicator(\n    account ?? undefined,\n    liquidityTokens\n  );\n\n  // fetch the reserves for all V2 pools in which the user has a balance\n  const liquidityTokensWithBalances = useMemo(\n    () =>\n      tokenPairsWithLiquidityTokens.filter(({ liquidityToken }) =>\n        v2PairsBalances[liquidityToken.address]?.greaterThan('0')\n      ),\n    [tokenPairsWithLiquidityTokens, v2PairsBalances]\n  );\n\n  const v2Pairs = usePairs(liquidityTokensWithBalances.map(({ tokens }) => tokens));\n  const v2IsLoading =\n    fetchingV2PairBalances ||\n    v2Pairs?.length < liquidityTokensWithBalances.length ||\n    v2Pairs?.some((V2Pair) => !V2Pair);\n  const allV2PairsWithLiquidity = v2Pairs.map(([, pair]) => pair).filter((v2Pair): v2Pair is Pair => Boolean(v2Pair));\n\n  return (\n    <AppBody>\n      <PageWrapper>\n        <SwapPoolTabs active={'pool'} />\n        <AutoColumn gap=\"lg\" justify=\"center\">\n          <AutoColumn gap=\"lg\" style={{ width: '100%' }}>\n            <TitleRow style={{ marginTop: '1rem' }} padding={'0'}>\n              <HideSmall>\n                <TYPE.mediumHeader style={{ justifySelf: 'flex-start' }}>\n                  Your liquidity\n                </TYPE.mediumHeader>\n              </HideSmall>\n              <ButtonRow>\n                <ResponsiveButtonPrimary as={Link} padding=\"6px 10px\" to=\"/create/ETH\">\n                  Create a pair\n                </ResponsiveButtonPrimary>\n                <ResponsiveButtonPrimary id=\"join-pool-button\" as={Link} padding=\"6px 10px\" to=\"/add/ETH\">\n                  <Text fontWeight={500} fontSize={16}>\n                    Add Liquidity\n                  </Text>\n                </ResponsiveButtonPrimary>\n              </ButtonRow>\n            </TitleRow>\n\n            {!account ? (\n              <Card padding=\"40px\">\n                <TYPE.body color={theme.text3} textAlign=\"center\">\n                  Connect to a wallet to view your liquidity.\n                </TYPE.body>\n              </Card>\n            ) : v2IsLoading ? (\n              <EmptyProposals>\n                <TYPE.body color={theme.text3} textAlign=\"center\">\n                  <Dots>Loading</Dots>\n                </TYPE.body>\n              </EmptyProposals>\n            ) : allV2PairsWithLiquidity?.length > 0 ? (\n              <>\n                {allV2PairsWithLiquidity.map((v2Pair) => (\n                  <FullPositionCard key={v2Pair.liquidityToken.address} pair={v2Pair} />\n                ))}\n              </>\n            ) : (\n              <EmptyProposals>\n                <TYPE.body color={theme.text3} textAlign=\"center\">\n                  No Liquidity found\n                </TYPE.body>\n              </EmptyProposals>\n            )}\n          </AutoColumn>\n        </AutoColumn>\n      </PageWrapper>\n    </AppBody>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}