{"ast":null,"code":"import _objectSpread from\"/Users/vaibhav/Desktop/Home/Blockchain Boutique/Uniswap_forked_gaura/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/vaibhav/Desktop/Home/Blockchain Boutique/Uniswap_forked_gaura/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/vaibhav/Desktop/Home/Blockchain Boutique/Uniswap_forked_gaura/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vaibhav/Desktop/Home/Blockchain Boutique/Uniswap_forked_gaura/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/vaibhav/Desktop/Home/Blockchain Boutique/Uniswap_forked_gaura/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/vaibhav/Desktop/Home/Blockchain Boutique/Uniswap_forked_gaura/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";var _EMPTY_LIST;import{toChecksumAddress}from'web3-utils';import DEFAULT_TOKEN_LIST from'@uniswap/default-token-list';import{ChainId,Token}from'@uniswap/sdk';import{useMemo}from'react';import{useSelector}from'react-redux';import sortByListPriority from'utils/listSort';/**\n * Token instances created from token info.\n */export var WrappedTokenInfo=/*#__PURE__*/function(_Token){_inherits(WrappedTokenInfo,_Token);var _super=_createSuper(WrappedTokenInfo);function WrappedTokenInfo(tokenInfo,tags){var _this;_classCallCheck(this,WrappedTokenInfo);_this=_super.call(this,tokenInfo.chainId,toChecksumAddress(tokenInfo.address),tokenInfo.decimals,tokenInfo.symbol,tokenInfo.name);_this.tokenInfo=void 0;_this.tags=void 0;_this.tokenInfo=tokenInfo;_this.tags=tags;return _this;}_createClass(WrappedTokenInfo,[{key:\"logoURI\",get:function get(){return this.tokenInfo.logoURI;}}]);return WrappedTokenInfo;}(Token);/**\n * An empty result, useful as a default.\n */var EMPTY_LIST=(_EMPTY_LIST={},_defineProperty(_EMPTY_LIST,ChainId.KOVAN,{}),_defineProperty(_EMPTY_LIST,ChainId.RINKEBY,{}),_defineProperty(_EMPTY_LIST,ChainId.ROPSTEN,{}),_defineProperty(_EMPTY_LIST,ChainId.GÖRLI,{}),_defineProperty(_EMPTY_LIST,ChainId.MAINNET,{}),_defineProperty(_EMPTY_LIST,ChainId.GAURA,{}),_EMPTY_LIST);var listCache=typeof WeakMap!=='undefined'?new WeakMap():null;export function listToTokenMap(list){var result=listCache===null||listCache===void 0?void 0:listCache.get(list);if(result)return result;var map=list.tokens.reduce(function(tokenMap,tokenInfo){var _tokenInfo$tags$map$f,_tokenInfo$tags,_tokenInfo$tags$map;var tags=(_tokenInfo$tags$map$f=(_tokenInfo$tags=tokenInfo.tags)===null||_tokenInfo$tags===void 0?void 0:(_tokenInfo$tags$map=_tokenInfo$tags.map(function(tagId){var _list$tags;if(!((_list$tags=list.tags)===null||_list$tags===void 0?void 0:_list$tags[tagId]))return undefined;return _objectSpread(_objectSpread({},list.tags[tagId]),{},{id:tagId});}))===null||_tokenInfo$tags$map===void 0?void 0:_tokenInfo$tags$map.filter(function(x){return Boolean(x);}))!==null&&_tokenInfo$tags$map$f!==void 0?_tokenInfo$tags$map$f:[];var token=new WrappedTokenInfo(tokenInfo,tags);if(tokenMap[token.chainId][token.address]!==undefined)throw Error('Duplicate tokens.');return _objectSpread(_objectSpread({},tokenMap),{},_defineProperty({},token.chainId,_objectSpread(_objectSpread({},tokenMap[token.chainId]),{},_defineProperty({},token.address,{token:token,list:list}))));},_objectSpread({},EMPTY_LIST));listCache===null||listCache===void 0?void 0:listCache.set(list,map);return map;}export function useAllLists(){return useSelector(function(state){return state.lists.byUrl;});}function combineMaps(map1,map2){return{1:_objectSpread(_objectSpread({},map1[1]),map2[1]),3:_objectSpread(_objectSpread({},map1[3]),map2[3]),4:_objectSpread(_objectSpread({},map1[4]),map2[4]),5:_objectSpread(_objectSpread({},map1[5]),map2[5]),42:_objectSpread(_objectSpread({},map1[42]),map2[42]),33982:_objectSpread(_objectSpread({},map1[33982]),map2[33982])};}// merge tokens contained within lists from urls\nfunction useCombinedTokenMapFromUrls(urls){var lists=useAllLists();return useMemo(function(){if(!urls)return EMPTY_LIST;return urls.slice()// sort by priority so top priority goes last\n.sort(sortByListPriority).reduce(function(allTokens,currentUrl){var _lists$currentUrl;var current=(_lists$currentUrl=lists[currentUrl])===null||_lists$currentUrl===void 0?void 0:_lists$currentUrl.current;if(!current)return allTokens;try{var newTokens=Object.assign(listToTokenMap(current));return combineMaps(allTokens,newTokens);}catch(error){console.error('Could not show token list due to error',error);return allTokens;}},EMPTY_LIST);},[lists,urls]);}// filter out unsupported lists\nexport function useActiveListUrls(){return useSelector(function(state){return state.lists.activeListUrls;});}export function useInactiveListUrls(){var lists=useAllLists();var allActiveListUrls=useActiveListUrls();return Object.keys(lists).filter(function(url){return!(allActiveListUrls===null||allActiveListUrls===void 0?void 0:allActiveListUrls.includes(url));});}// get all the tokens from active lists, combine with local default tokens\nexport function useCombinedActiveList(){var activeListUrls=useActiveListUrls();var activeTokens=useCombinedTokenMapFromUrls(activeListUrls);var defaultTokenMap=listToTokenMap(DEFAULT_TOKEN_LIST);return combineMaps(activeTokens,defaultTokenMap);}// all tokens from inactive lists\nexport function useCombinedInactiveList(){var allInactiveListUrls=useInactiveListUrls();return useCombinedTokenMapFromUrls(allInactiveListUrls);}// used to hide warnings on import for default tokens\nexport function useDefaultTokenList(){return listToTokenMap(DEFAULT_TOKEN_LIST);}export function useIsListActive(url){var activeListUrls=useActiveListUrls();return Boolean(activeListUrls===null||activeListUrls===void 0?void 0:activeListUrls.includes(url));}","map":{"version":3,"names":["toChecksumAddress","DEFAULT_TOKEN_LIST","ChainId","Token","useMemo","useSelector","sortByListPriority","WrappedTokenInfo","tokenInfo","tags","chainId","address","decimals","symbol","name","logoURI","EMPTY_LIST","KOVAN","RINKEBY","ROPSTEN","GÖRLI","MAINNET","GAURA","listCache","WeakMap","listToTokenMap","list","result","get","map","tokens","reduce","tokenMap","tagId","undefined","id","filter","x","Boolean","token","Error","set","useAllLists","state","lists","byUrl","combineMaps","map1","map2","useCombinedTokenMapFromUrls","urls","slice","sort","allTokens","currentUrl","current","newTokens","Object","assign","error","console","useActiveListUrls","activeListUrls","useInactiveListUrls","allActiveListUrls","keys","url","includes","useCombinedActiveList","activeTokens","defaultTokenMap","useCombinedInactiveList","allInactiveListUrls","useDefaultTokenList","useIsListActive"],"sources":["/Users/vaibhav/Desktop/Home/Blockchain Boutique/Uniswap_forked_gaura/src/state/lists/hooks.ts"],"sourcesContent":["import { toChecksumAddress } from 'web3-utils';\nimport DEFAULT_TOKEN_LIST from '@uniswap/default-token-list';\nimport { ChainId, Token } from '@uniswap/sdk';\nimport { Tags, TokenInfo, TokenList } from '@uniswap/token-lists';\nimport { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { AppState } from '../index';\nimport sortByListPriority from 'utils/listSort';\n\ntype TagDetails = Tags[keyof Tags];\nexport interface TagInfo extends TagDetails {\n  id: string;\n}\n\n/**\n * Token instances created from token info.\n */\nexport class WrappedTokenInfo extends Token {\n  public readonly tokenInfo: TokenInfo;\n  public readonly tags: TagInfo[];\n  constructor(tokenInfo: TokenInfo, tags: TagInfo[]) {\n    super(\n      tokenInfo.chainId,\n      toChecksumAddress(tokenInfo.address),\n      tokenInfo.decimals,\n      tokenInfo.symbol,\n      tokenInfo.name\n    );\n    this.tokenInfo = tokenInfo;\n    this.tags = tags;\n  }\n  public get logoURI(): string | undefined {\n    return this.tokenInfo.logoURI;\n  }\n}\n\nexport type TokenAddressMap = Readonly<\n  { [chainId in ChainId]: Readonly<{ [tokenAddress: string]: { token: WrappedTokenInfo; list: TokenList } }> }\n>;\n\n/**\n * An empty result, useful as a default.\n */\nconst EMPTY_LIST: TokenAddressMap = {\n  [ChainId.KOVAN]: {},\n  [ChainId.RINKEBY]: {},\n  [ChainId.ROPSTEN]: {},\n  [ChainId.GÖRLI]: {},\n  [ChainId.MAINNET]: {},\n  [ChainId.GAURA]: {},\n};\n\nconst listCache: WeakMap<TokenList, TokenAddressMap> | null =\n  typeof WeakMap !== 'undefined' ? new WeakMap<TokenList, TokenAddressMap>() : null;\n\nexport function listToTokenMap(list: TokenList): TokenAddressMap {\n  const result = listCache?.get(list);\n  if (result) return result;\n\n  const map = list.tokens.reduce<TokenAddressMap>(\n    (tokenMap, tokenInfo) => {\n      const tags: TagInfo[] =\n        tokenInfo.tags\n          ?.map((tagId) => {\n            if (!list.tags?.[tagId]) return undefined;\n            return { ...list.tags[tagId], id: tagId };\n          })\n          ?.filter((x): x is TagInfo => Boolean(x)) ?? [];\n      const token = new WrappedTokenInfo(tokenInfo, tags);\n      if (tokenMap[token.chainId][token.address] !== undefined) throw Error('Duplicate tokens.');\n      return {\n        ...tokenMap,\n        [token.chainId]: {\n          ...tokenMap[token.chainId],\n          [token.address]: {\n            token,\n            list: list,\n          },\n        },\n      };\n    },\n    { ...EMPTY_LIST }\n  );\n  listCache?.set(list, map);\n  return map;\n}\n\nexport function useAllLists(): {\n  readonly [url: string]: {\n    readonly current: TokenList | null;\n    readonly pendingUpdate: TokenList | null;\n    readonly loadingRequestId: string | null;\n    readonly error: string | null;\n  };\n} {\n  return useSelector<AppState, AppState['lists']['byUrl']>((state) => state.lists.byUrl);\n}\n\nfunction combineMaps(map1: TokenAddressMap, map2: TokenAddressMap): TokenAddressMap {\n  return {\n    1: { ...map1[1], ...map2[1] },\n    3: { ...map1[3], ...map2[3] },\n    4: { ...map1[4], ...map2[4] },\n    5: { ...map1[5], ...map2[5] },\n    42: { ...map1[42], ...map2[42] },\n    33982: { ...map1[33982], ...map2[33982] },\n  };\n}\n\n// merge tokens contained within lists from urls\nfunction useCombinedTokenMapFromUrls(urls: string[] | undefined): TokenAddressMap {\n  const lists = useAllLists();\n\n  return useMemo(() => {\n    if (!urls) return EMPTY_LIST;\n\n    return (\n      urls\n        .slice()\n        // sort by priority so top priority goes last\n        .sort(sortByListPriority)\n        .reduce((allTokens, currentUrl) => {\n          const current = lists[currentUrl]?.current;\n          if (!current) return allTokens;\n          try {\n            const newTokens = Object.assign(listToTokenMap(current));\n            return combineMaps(allTokens, newTokens);\n          } catch (error) {\n            console.error('Could not show token list due to error', error);\n            return allTokens;\n          }\n        }, EMPTY_LIST)\n    );\n  }, [lists, urls]);\n}\n\n// filter out unsupported lists\nexport function useActiveListUrls(): string[] | undefined {\n  return useSelector<AppState, AppState['lists']['activeListUrls']>((state) => state.lists.activeListUrls);\n}\n\nexport function useInactiveListUrls(): string[] {\n  const lists = useAllLists();\n  const allActiveListUrls = useActiveListUrls();\n  return Object.keys(lists).filter((url) => !allActiveListUrls?.includes(url));\n}\n\n// get all the tokens from active lists, combine with local default tokens\nexport function useCombinedActiveList(): TokenAddressMap {\n  const activeListUrls = useActiveListUrls();\n  const activeTokens = useCombinedTokenMapFromUrls(activeListUrls);\n  const defaultTokenMap = listToTokenMap(DEFAULT_TOKEN_LIST);\n  return combineMaps(activeTokens, defaultTokenMap);\n}\n\n// all tokens from inactive lists\nexport function useCombinedInactiveList(): TokenAddressMap {\n  const allInactiveListUrls: string[] = useInactiveListUrls();\n  return useCombinedTokenMapFromUrls(allInactiveListUrls);\n}\n\n// used to hide warnings on import for default tokens\nexport function useDefaultTokenList(): TokenAddressMap {\n  return listToTokenMap(DEFAULT_TOKEN_LIST);\n}\n\nexport function useIsListActive(url: string): boolean {\n  const activeListUrls = useActiveListUrls();\n  return Boolean(activeListUrls?.includes(url));\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}