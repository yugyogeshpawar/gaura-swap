{"ast":null,"code":"import _classCallCheck from \"/Users/vaibhav/Desktop/Home/Blockchain Boutique/Uniswap_forked_gaura/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vaibhav/Desktop/Home/Blockchain Boutique/Uniswap_forked_gaura/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { isJsonRpcRequest, isJsonRpcResponseSuccess, isJsonRpcResponseError, isInternalEvent, isReservedEvent } from \"@walletconnect/utils\";\n\nvar EventManager = /*#__PURE__*/function () {\n  function EventManager() {\n    _classCallCheck(this, EventManager);\n\n    this._eventEmitters = [];\n  }\n\n  _createClass(EventManager, [{\n    key: \"subscribe\",\n    value: function subscribe(eventEmitter) {\n      this._eventEmitters.push(eventEmitter);\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(event) {\n      this._eventEmitters = this._eventEmitters.filter(function (x) {\n        return x.event !== event;\n      });\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(payload) {\n      var eventEmitters = [];\n      var event;\n\n      if (isJsonRpcRequest(payload)) {\n        event = payload.method;\n      } else if (isJsonRpcResponseSuccess(payload) || isJsonRpcResponseError(payload)) {\n        event = \"response:\".concat(payload.id);\n      } else if (isInternalEvent(payload)) {\n        event = payload.event;\n      } else {\n        event = \"\";\n      }\n\n      if (event) {\n        eventEmitters = this._eventEmitters.filter(function (eventEmitter) {\n          return eventEmitter.event === event;\n        });\n      }\n\n      if ((!eventEmitters || !eventEmitters.length) && !isReservedEvent(event) && !isInternalEvent(event)) {\n        eventEmitters = this._eventEmitters.filter(function (eventEmitter) {\n          return eventEmitter.event === \"call_request\";\n        });\n      }\n\n      eventEmitters.forEach(function (eventEmitter) {\n        if (isJsonRpcResponseError(payload)) {\n          var error = new Error(payload.error.message);\n          eventEmitter.callback(error, null);\n        } else {\n          eventEmitter.callback(null, payload);\n        }\n      });\n    }\n  }]);\n\n  return EventManager;\n}();\n\nexport default EventManager;","map":{"version":3,"mappings":";;AAAA,SACEA,gBADF,EAEEC,wBAFF,EAGEC,sBAHF,EAIEC,eAJF,EAKEC,eALF,QAMO,sBANP;;IAiBMC,Y;EAGJ;IAAA;;IACE,KAAKC,cAAL,GAAsB,EAAtB;EACD;;;;WAEM,mBAAUC,YAAV,EAAqC;MAC1C,KAAKD,cAAL,CAAoBE,IAApB,CAAyBD,YAAzB;IACD;;;WAEM,qBAAYE,KAAZ,EAAyB;MAC9B,KAAKH,cAAL,GAAsB,KAAKA,cAAL,CAAoBI,MAApB,CAA2B,WAAC;QAAA,OAAIC,CAAC,CAACF,KAAF,KAAYA,KAAhB;MAAA,CAA5B,CAAtB;IACD;;;WAEM,iBACLG,OADK,EACsF;MAE3F,IAAIC,aAAa,GAAoB,EAArC;MACA,IAAIJ,KAAJ;;MAEA,IAAIT,gBAAgB,CAACY,OAAD,CAApB,EAA+B;QAC7BH,KAAK,GAAGG,OAAO,CAACE,MAAhB;MACD,CAFD,MAEO,IAAIb,wBAAwB,CAACW,OAAD,CAAxB,IAAqCV,sBAAsB,CAACU,OAAD,CAA/D,EAA0E;QAC/EH,KAAK,sBAAeG,OAAO,CAACG,EAAvB,CAAL;MACD,CAFM,MAEA,IAAIZ,eAAe,CAACS,OAAD,CAAnB,EAA8B;QACnCH,KAAK,GAAGG,OAAO,CAACH,KAAhB;MACD,CAFM,MAEA;QACLA,KAAK,GAAG,EAAR;MACD;;MAED,IAAIA,KAAJ,EAAW;QACTI,aAAa,GAAG,KAAKP,cAAL,CAAoBI,MAApB,CACd,UAACH,YAAD;UAAA,OAAiCA,YAAY,CAACE,KAAb,KAAuBA,KAAxD;QAAA,CADc,CAAhB;MAGD;;MAED,IACE,CAAC,CAACI,aAAD,IAAkB,CAACA,aAAa,CAACG,MAAlC,KACA,CAACZ,eAAe,CAACK,KAAD,CADhB,IAEA,CAACN,eAAe,CAACM,KAAD,CAHlB,EAIE;QACAI,aAAa,GAAG,KAAKP,cAAL,CAAoBI,MAApB,CACd,UAACH,YAAD;UAAA,OAAiCA,YAAY,CAACE,KAAb,KAAuB,cAAxD;QAAA,CADc,CAAhB;MAGD;;MAEDI,aAAa,CAACI,OAAd,CAAsB,UAACV,YAAD,EAAgC;QACpD,IAAIL,sBAAsB,CAACU,OAAD,CAA1B,EAAqC;UACnC,IAAMM,KAAK,GAAG,IAAIC,KAAJ,CAAUP,OAAO,CAACM,KAAR,CAAcE,OAAxB,CAAd;UACAb,YAAY,CAACc,QAAb,CAAsBH,KAAtB,EAA6B,IAA7B;QACD,CAHD,MAGO;UACLX,YAAY,CAACc,QAAb,CAAsB,IAAtB,EAA4BT,OAA5B;QACD;MACF,CAPD;IAQD;;;;;;AAGH,eAAeP,YAAf","names":["isJsonRpcRequest","isJsonRpcResponseSuccess","isJsonRpcResponseError","isInternalEvent","isReservedEvent","EventManager","_eventEmitters","eventEmitter","push","event","filter","x","payload","eventEmitters","method","id","length","forEach","error","Error","message","callback"],"sourceRoot":"","sources":["../../src/events.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}