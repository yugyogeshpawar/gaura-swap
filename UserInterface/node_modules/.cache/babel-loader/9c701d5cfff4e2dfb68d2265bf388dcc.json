{"ast":null,"code":"\"use strict\"; // Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\n\nvar _classCallCheck = require(\"/Users/vaibhav/Desktop/Home/Blockchain Boutique/Uniswap_forked_gaura/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/vaibhav/Desktop/Home/Blockchain Boutique/Uniswap_forked_gaura/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LinkFlow = void 0;\n\nvar preact_1 = require(\"preact\");\n\nvar rxjs_1 = require(\"rxjs\");\n\nvar operators_1 = require(\"rxjs/operators\");\n\nvar LinkDialog_1 = require(\"./LinkDialog\");\n\nvar TryExtensionLinkDialog_1 = require(\"./TryExtensionLinkDialog\");\n\nvar LinkFlow = /*#__PURE__*/function () {\n  function LinkFlow(options) {\n    var _this = this;\n\n    _classCallCheck(this, LinkFlow);\n\n    this.extensionUI$ = new rxjs_1.BehaviorSubject({});\n    this.subscriptions = new rxjs_1.Subscription();\n    this.isConnected = false;\n    this.isOpen = false;\n    this.onCancel = null;\n    this.root = null; // if true, hide QR code in LinkFlow (which happens if no jsonRpcUrl is provided)\n\n    this.connectDisabled = false;\n    this.darkMode = options.darkMode;\n    this.version = options.version;\n    this.sessionId = options.sessionId;\n    this.sessionSecret = options.sessionSecret;\n    this.walletLinkUrl = options.walletLinkUrl;\n    this.isParentConnection = options.isParentConnection;\n    this.connected$ = options.connected$; // Check if extension UI is enabled\n\n    fetch(\"https://api.wallet.coinbase.com/rpc/v2/getFeatureFlags\").then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      var enabled = json.result.desktop.extension_ui;\n\n      if (typeof enabled === \"undefined\") {\n        _this.extensionUI$.next({\n          value: false\n        });\n      } else {\n        _this.extensionUI$.next({\n          value: enabled\n        });\n      }\n    }).catch(function (err) {\n      console.error('Couldn\\'t fetch feature flags - ', err);\n\n      _this.extensionUI$.next({\n        value: false\n      });\n    });\n  }\n\n  _createClass(LinkFlow, [{\n    key: \"attach\",\n    value: function attach(el) {\n      var _this2 = this;\n\n      this.root = document.createElement(\"div\");\n      this.root.className = \"-walletlink-link-flow-root\";\n      el.appendChild(this.root);\n      this.render();\n      this.subscriptions.add(this.connected$.subscribe(function (v) {\n        if (_this2.isConnected !== v) {\n          _this2.isConnected = v;\n\n          _this2.render();\n        }\n      }));\n    }\n  }, {\n    key: \"detach\",\n    value: function detach() {\n      var _a;\n\n      if (!this.root) {\n        return;\n      }\n\n      this.subscriptions.unsubscribe();\n      (0, preact_1.render)(null, this.root);\n      (_a = this.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.root);\n    }\n  }, {\n    key: \"setConnectDisabled\",\n    value: function setConnectDisabled(connectDisabled) {\n      this.connectDisabled = connectDisabled;\n    }\n  }, {\n    key: \"open\",\n    value: function open(options) {\n      this.isOpen = true;\n      this.onCancel = options.onCancel;\n      this.render();\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.isOpen = false;\n      this.onCancel = null;\n      this.render();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (!this.root) {\n        return;\n      }\n\n      var subscription = this.extensionUI$.pipe((0, operators_1.first)(function (enabled) {\n        return enabled.value !== undefined;\n      })) // wait for a valid value before rendering\n      .subscribe(function (enabled) {\n        if (!_this3.root) {\n          return;\n        }\n\n        (0, preact_1.render)(enabled.value ? (0, preact_1.h)(TryExtensionLinkDialog_1.TryExtensionLinkDialog, {\n          darkMode: _this3.darkMode,\n          version: _this3.version,\n          sessionId: _this3.sessionId,\n          sessionSecret: _this3.sessionSecret,\n          walletLinkUrl: _this3.walletLinkUrl,\n          isOpen: _this3.isOpen,\n          isConnected: _this3.isConnected,\n          isParentConnection: _this3.isParentConnection,\n          onCancel: _this3.onCancel,\n          connectDisabled: _this3.connectDisabled\n        }) : (0, preact_1.h)(LinkDialog_1.LinkDialog, {\n          darkMode: _this3.darkMode,\n          version: _this3.version,\n          sessionId: _this3.sessionId,\n          sessionSecret: _this3.sessionSecret,\n          walletLinkUrl: _this3.walletLinkUrl,\n          isOpen: _this3.isOpen,\n          isConnected: _this3.isConnected,\n          isParentConnection: _this3.isParentConnection,\n          onCancel: _this3.onCancel\n        }), _this3.root);\n      });\n      this.subscriptions.add(subscription);\n    }\n  }]);\n\n  return LinkFlow;\n}();\n\nexports.LinkFlow = LinkFlow;","map":{"version":3,"names":["Object","defineProperty","exports","value","LinkFlow","preact_1","require","rxjs_1","operators_1","LinkDialog_1","TryExtensionLinkDialog_1","options","extensionUI$","BehaviorSubject","subscriptions","Subscription","isConnected","isOpen","onCancel","root","connectDisabled","darkMode","version","sessionId","sessionSecret","walletLinkUrl","isParentConnection","connected$","fetch","then","res","json","enabled","result","desktop","extension_ui","next","catch","err","console","error","el","document","createElement","className","appendChild","render","add","subscribe","v","_a","unsubscribe","parentElement","removeChild","subscription","pipe","first","undefined","h","TryExtensionLinkDialog","LinkDialog"],"sources":["/Users/vaibhav/Desktop/Home/Blockchain Boutique/Uniswap_forked_gaura/node_modules/walletlink/dist/components/LinkFlow.js"],"sourcesContent":["\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkFlow = void 0;\nconst preact_1 = require(\"preact\");\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst LinkDialog_1 = require(\"./LinkDialog\");\nconst TryExtensionLinkDialog_1 = require(\"./TryExtensionLinkDialog\");\nclass LinkFlow {\n    constructor(options) {\n        this.extensionUI$ = new rxjs_1.BehaviorSubject({});\n        this.subscriptions = new rxjs_1.Subscription();\n        this.isConnected = false;\n        this.isOpen = false;\n        this.onCancel = null;\n        this.root = null;\n        // if true, hide QR code in LinkFlow (which happens if no jsonRpcUrl is provided)\n        this.connectDisabled = false;\n        this.darkMode = options.darkMode;\n        this.version = options.version;\n        this.sessionId = options.sessionId;\n        this.sessionSecret = options.sessionSecret;\n        this.walletLinkUrl = options.walletLinkUrl;\n        this.isParentConnection = options.isParentConnection;\n        this.connected$ = options.connected$;\n        // Check if extension UI is enabled\n        fetch(\"https://api.wallet.coinbase.com/rpc/v2/getFeatureFlags\")\n            .then(res => res.json())\n            .then(json => {\n            const enabled = json.result.desktop.extension_ui;\n            if (typeof enabled === \"undefined\") {\n                this.extensionUI$.next({ value: false });\n            }\n            else {\n                this.extensionUI$.next({ value: enabled });\n            }\n        })\n            .catch(err => {\n            console.error('Couldn\\'t fetch feature flags - ', err);\n            this.extensionUI$.next({ value: false });\n        });\n    }\n    attach(el) {\n        this.root = document.createElement(\"div\");\n        this.root.className = \"-walletlink-link-flow-root\";\n        el.appendChild(this.root);\n        this.render();\n        this.subscriptions.add(this.connected$.subscribe(v => {\n            if (this.isConnected !== v) {\n                this.isConnected = v;\n                this.render();\n            }\n        }));\n    }\n    detach() {\n        var _a;\n        if (!this.root) {\n            return;\n        }\n        this.subscriptions.unsubscribe();\n        (0, preact_1.render)(null, this.root);\n        (_a = this.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.root);\n    }\n    setConnectDisabled(connectDisabled) {\n        this.connectDisabled = connectDisabled;\n    }\n    open(options) {\n        this.isOpen = true;\n        this.onCancel = options.onCancel;\n        this.render();\n    }\n    close() {\n        this.isOpen = false;\n        this.onCancel = null;\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        const subscription = this.extensionUI$\n            .pipe((0, operators_1.first)(enabled => enabled.value !== undefined)) // wait for a valid value before rendering\n            .subscribe(enabled => {\n            if (!this.root) {\n                return;\n            }\n            (0, preact_1.render)(enabled.value ? ((0, preact_1.h)(TryExtensionLinkDialog_1.TryExtensionLinkDialog, { darkMode: this.darkMode, version: this.version, sessionId: this.sessionId, sessionSecret: this.sessionSecret, walletLinkUrl: this.walletLinkUrl, isOpen: this.isOpen, isConnected: this.isConnected, isParentConnection: this.isParentConnection, onCancel: this.onCancel, connectDisabled: this.connectDisabled })) : ((0, preact_1.h)(LinkDialog_1.LinkDialog, { darkMode: this.darkMode, version: this.version, sessionId: this.sessionId, sessionSecret: this.sessionSecret, walletLinkUrl: this.walletLinkUrl, isOpen: this.isOpen, isConnected: this.isConnected, isParentConnection: this.isParentConnection, onCancel: this.onCancel })), this.root);\n        });\n        this.subscriptions.add(subscription);\n    }\n}\nexports.LinkFlow = LinkFlow;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}